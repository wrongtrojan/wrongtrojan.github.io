+++
title = "10.1.迭代器"
weight=11
date = 2025-12-06
tags =["Cpp","STL","迭代器"]
draft = false
+++
<!--more-->

## 迭代器

       在STL中，迭代器是算法和容器的中间人

       STL的每个容器类模板中，都定义了一组对应的迭代器类

       使用迭代器类，算法函数可以访问容器指定位置的元素，无需关心元素具体类型

## 迭代器分类

       STL根据迭代器功能，将迭代器分为五类

           输入迭代器(Input Iterator)

           输出迭代器(Output Iterator)

           前向迭代器(Bidirectional Iterator)

           随机访问迭代器(Random Access Iterator)

       迭代器通用的功能包括

           ++p1 迭代器指向下一个元素，且表达式返回值为p1自身的引用

           p1++ 迭代器指向下一个元素，且表达式的返回类型不确定

       输入迭代器

           从序列中读取数据(不一定能够向其中写入数据)

           输入迭代器具备的功能

               p1 == p2 两迭代器比较是否相同

               p1 != p2 两迭代器是否不同

               *p1 使用*获取输入迭代器指向元素的值

               p1->m 等价于(*p1).m

               *pl++ 值为 {T t=*p1; ++pl;return t;}

           输入源"单向消耗"，适用于作为那些只需遍历序列一次的算法输入

       输出迭代器

           向序列中写入数据(不一定可以从中读取数据)

           输入迭代器具备的功能

               *p1 = t 向迭代器所指向位置写入一个元素，返回类型不确定

               *p1++ = t 等价于{*p1=t; ++p1;}，返回类型不确定

           写入元素和自增操作必须交替进行

       前向迭代器

           前向迭代器既支持数据读取，也支持数据写入

           前向迭代器支持对序列进行可重复的单向遍历

           前向迭代器对下面表达式给出更明确保证

               *p1 保证具有T &类型

               p1++ 对迭代器实例使用后置++使迭代指向下一个元素

       双向迭代器

           在单项迭代器基础上，支持迭代器向反向移动

               --p1 使迭代器指向上一个元素，返回值为p1自身的引用

               p1-- 使迭代器指向上一个元素

       随机访问迭代器

           在双向迭代器的基础上，支持将迭代器向前或向后移动n个元素

           新增的功能

               p1+=n 将p1向前移动n个元素

               p1-=n 将p1 向后移动n个元素

               p1+n或n+p1 获得指向迭代器p1前n个元素的迭代器

               p1-n 获得指向迭代器p1后n个元素的迭代器

               p1-p2 返回一个满足p1==p2+n的整数n

               p1 op p2 op是大小关系运算符，比较指向位置的前后关系

               p1[n] 等价于*(P1+n)

           指针是随机访问迭代器

## 两种具体迭代器：输入流、输出流迭代器

       输入流迭代器

           用来从一个输入流中连续地输入某种类型的数据

           如template <class T>istream_iterator<T>;

               T是改迭代器从输入流输入数据的类型

               T需满足有默认构造函数，且可以使用>>从输入流输入

           一个输入流迭代器的实例由 istream_iterator(istream &in);构造

           判断一个输入流结束

               用istream_iterator的默认构造函数造出的迭代器指向输入流的结束位置

               将输入流于该迭代器进行比较判断输入流是否结束

           输出流迭代器

               template<class T> ostream_iterator<T>;

                   T类型数据需要可以使用\<\<向输出流输出

               输出迭代器的实例构造

                   ostream_iterator(ostream &out);

                   ostream_iterator(ostream &out,const char*delimiter);

                   delimiter可选，表示两个输出数据之间的风格符

               *iter只能作为赋值运算符的左值，相当于执行out<<x(<<delimiter)

               输出迭代器的++运算符不会使迭代器状态发生改变(统一接口)

           输入输出迭代器让输入输出流直接参与STL算法，是一种适配器

               适配器本身一般不提供新的功能，只为改变对象接口而存在

## 迭代器的区间

## 迭代器的辅助函数

       STL为迭代器提供了两个辅助函数模板

       advance 为迭代器提供前进或后退多个元素

       distance 为迭代器提供计算两个迭代器之间的距离
